<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.3 (455969)"/><meta name="author" content="羊锡贵"/><meta name="created" content="2017-11-25 03:58:30 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="source-url" content="https://docs.mongodb.com/manual/tutorial/install-mongodb-enterprise-on-red-hat/"/><meta name="updated" content="2017-11-28 13:27:24 +0000"/><title>linux下安装node和mongodb</title><style>body{max-width: 980px;margin: 0 auto;}</style></head><body><div><h1 style="text-align: center;">linux下安装node和mongodb</h1><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">安装node</span></font></div><div>1、到官网下载安装包</div><div>中文&nbsp;&nbsp;<a href="http://nodejs.cn/download/">http://nodejs.cn/download/</a></div><div>英文&nbsp;&nbsp;<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></div><div><br/></div><div><img src="/7a115d6cc02cc8d89135b516b0b338a0/1D1FB5FE-8FAA-400E-9AB8-7B30AA34EC57.png" height="534" width="1170"/></div><div>安装包为</div><div><a href="/7a115d6cc02cc8d89135b516b0b338a0/node-v8.9.0-linux-x64.tar.xz">node-v8.9.0-linux-x64.tar.xz</a></div><div><br/></div><div>2、将安装包上传到服务器任意路径下（下面路径为<span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">/usr/local/software</span>），并解压，如</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">cd&nbsp;&nbsp;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/local/software</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">tar -xvf&nbsp;&nbsp;<span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">node-v8.9.0-linux-x64.tar.xz</span></span></div></div><div>查看解压后的文件中，bin路径下是否有npm和node文件</div><div>3、建立软链接</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">ln -s&nbsp;&nbsp;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/local/software/node-v8.9.0-linux-x64/bin/npm /usr/local/bin/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ln -s&nbsp;&nbsp;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/local/software/node-v8.9.0-linux-x64/bin/node /usr/local/bin/</span></div></div><div><br/></div><div>4、检测是否为全局</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">node -v</span></div></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">安装mongodb</span></font></div><div><br/></div><div>1、建立配置文件，输入一下内容到路径 &nbsp;&nbsp;/etc/yum.repos.d/mongodb-enterprise.repo</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">[mongodb-enterprise]</span></div><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">name</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">=</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">MongoDB Enterprise Repository</span></div><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">baseurl</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">=</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal;"><a href="https://repo.mongodb.com/yum/redhat/$releasever/mongodb-enterprise/3.4/$basearch/" style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: 'Source Code Pro', monospace; line-height: 24px;">https://repo.mongodb.com/yum/redhat/$releasever/mongodb-enterprise/3.4/$basearch/</a></span></div><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">gpgcheck</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">=</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">1</span></div><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">enabled</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">=</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">1</span></div><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">gpgkey</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">=</span><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal;"><a href="https://www.mongodb.org/static/pgp/server-3.4.asc" style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: 'Source Code Pro', monospace; line-height: 24px;">https://www.mongodb.org/static/pgp/server-3.4.asc</a></span></div></div><div><br/></div><div>2、下载安装，输入命令</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">sudo yum install -y mongodb-enterprise</span></div></div><div><br/></div><div>3、开启mongodb</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">sudo service mongod start</span></div></div><div><br/></div><div>此时检验是否开启成功，可以查看文件/var/log/mongodb/mongod.log中是否有以下字段</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">[initandlisten] waiting for connections on port &lt;port&gt;</span></div></div><div><br/></div><div>4、停止mongodb</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">sudo service mongod stop</span></div></div><div><br/></div><div>5、重启mongodb</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="box-sizing: border-box; font-size: 14px; white-space: pre; word-break: break-all; word-wrap: normal; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; line-height: 24px;">sudo service mongod restart</span></div></div><div><br/></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">robomongo连接服务器上的数据库</span></font></div><div><br/></div><div>1、开放服务器端口27017</div><div>2、将文件/etc/mongod.conf中的‘bindIp: 127.0.0.1’注释，如</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">#bindIp: 127.0.0.1</span></div></div><div><br/></div><div>3、修改重建账号</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">use admin</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">db.dropUser('admin')</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">db.createUser({user:"admin",pwd:"662230799",roles:[{"role":"userAdminAnyDatabase","db":"admin"},{"role":"readWrite","db":"myBlog"}]})</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>